---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# untruthr

<!-- badges: start -->

[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental) [![CRAN status](https://www.r-pkg.org/badges/version/untruthr)](https://CRAN.R-project.org/package=untruthr)

<!-- badges: end -->

The goal of `untruthr` is to provide a scraper for the social networking website [Truth Social](https://truthsocial.com/)

## Installation

You can install the development version of `untruthr` like so:

``` r
remotes::install_github("favstats/untruthr")
```

## Example

This is a basic example which shows you how to solve a common problem:

```{r example}
library(untruthr)
## basic example code
```

## Authentication

Authenticate yourself with `untruth_auth`. Note: you require a Truth Social account for this.

Set the following environment variables (note it's best to type this into your console so you don't create a script with your valuable login details):

```{r, eval = F}
set_renv(truth_social_client_id="YOUR_CLIENT_ID")
set_renv(truth_social_client_secret="YOUR_CLIENT_SECRET")
set_renv(truth_social_user="YOUR_USER_HANDLE")
set_renv(truth_social_pw="YOUR_PW")


```

You can find your `client_id` and `client_secret` by checking the following file (via inspect) once you have logged into Truth Social in your browser: <https://truthsocial.com/packs/js/application-e63292e218e83e726270.js>

Once you are done, run `untruth_auth`.

```{r, eval = F}
untruth_auth()
```

Now you can use `untruthr`. Note: you only need to authenticate once. You only have to redo this once your token becomes stale.

## Get trending hashtags

```{r}
untruth_trends()
```

## Get trending statuses

```{r}
untruth_trends(type = "truths")
```

## Get statuses from account

In this case we are getting the 40 last "truths" from Donald Trump

```{r}
untruth_user_statuses("realdonaldtrump", size = 40)
```

## Search for statuses containing keywords

```{r}
untruth_search("qanon", search_type = "statuses", size = 40)
```

## Search for accounts containing keywords

```{r}
untruth_search("qanon", search_type = "accounts", size = 40)
```

## Lookup user ids (and other info) about users

```{r}
untruth_lookup_users("realdonaldtrump")
```
